Pre-install requirements
========================

* Network config
* Packages
    * openssh-server
    * python
* ~root/.ssh/authorized_keys for bootstrap user

Currently missing
=================

* Write README.md
* Clone/build/install/start/restart tfc_server
* Start/restart gunicorn
* Checking out the right version of tfc_web (tfc_prod, tfc_server)
* Adding www.smartcambridge.org entries to file generated by update_known_hosts.sh
* Enable most monit checks (would currently fail)
* Move cronjobs (esp tfc_prod) to /etc/cron.d?
* Configuring Grafana, creating admin users
* Restoring the database
* Copying data files
* Move Ansible-managed files out of user-writable directories

Differences
===========

* tfc_prod now a system user (uid < 1000)
* ssh_known_hosts installed from Ansible
* tfc_prod doc root at /var/www/tfc_prod
* admin user keys in ~root/.ssh/authorized keys
* Only a few bits of the tfc_prod repository apear in ~tfc_prod/tfc_prod

User management
===============

Accounts are created for all userids listed in `admin_users`
(see `group_vars/tfc_servers.yml`). These accounts don't have usable
passwords.

An account is created for tfc_prod. The tfc_prod_id keypair is
installed as tfc_prod's `id_rsa`.

All *_mortal.keys files are transferred to the corresponding user's
.ssh/authorised_keys files.

All *_mortal.keys are concatenated and transferred to
~tfc_prod/.ssh/authorised_keys

All *_priv.keys are concatenated and transferred to
~root/.ssh/authorised_keys


